<!doctype html>

<!---UI skeleton of project-->
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Consonance and Dissonance Visualisation</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    background: #fff;
    color: #111;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    font-size: 1.1rem;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
  }

  .row {
    display: flex;
    gap: 16px;
    align-items: flex-start;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 10px;
    max-width: 1100px;
    width: 100%;
  }

  .controls {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    align-items:center;
    justify-content:flex-start;
  }

  canvas {
    background: #fff;
    width: 92vw;
    margin: 8px 0;
    border: 1px solid #ccc;
  }

  #viz {
    height: 52vh;
  }

  button,
  input,
  select {
    margin: 0.5em;
    font-size: 14px;
  }

  .chip {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    color: #555;
  }

  .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    display: inline-block;
  }
  
  .dot.a { background: red; opacity: 0.5; }
  .dot.b { background: deepskyblue; opacity: 0.5; }
  .dot.c { background: seagreen; opacity: 0.5; }
  .dot.d { background: orange; opacity: 0.5; }
  .dot.e { background: purple; opacity: 0.5; }
  .dot.f { background: rgb(218, 32, 196); opacity: 0.5; }

  input[type="range"] {
    width: 240px;
  }

  .col {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 6px;
    min-width: 260px;
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 8px 12px;
  }

  label {
    display: flex;
    flex-direction: column;
    font-size: 14px;
    line-height: 1.3;
  }

  label.small {
    font-size: 13px;
    line-height: 1.3;
  }

  #pianoControlsA {
    border-top: 1px solid #ddd;
    margin-top: 4px;
    padding-top: 4px;
  }

  .note {
    font-size:12px;
    color:#666;
    line-height:1.3;
    max-width:240px;
    margin-top:-4px;
    margin-bottom:4px;
  }
</style>
</head>
<body>

<h1>Harmonics / Spectra Visualisation</h1>

<div class="row">
  <!-- Play/stop button and legend (colours match track)-->
  <button id="start">Start/Stop</button>
  <span class="chip"><span class="dot a"></span>A (red)</span>
  <span class="chip"><span class="dot b"></span>B (blue)</span>
  <span class="chip"><span class="dot c"></span>C (green)</span>
  <span class="chip"><span class="dot d"></span>D (orange)</span>
  <span class="chip"><span class="dot e"></span>E (purple)</span>
  <span class="chip"><span class="dot f"></span>F (gold)</span>
</div>

<div class="row">
  <label>
    Loop interval (seconds):
    <input id="loopInterval" type="number" value="2" min="0.1" step="0.1">
  </label>
  <button id="masterLoop">Toggle Master Loop</button>
</div>



<!--toggle track on and off, wired to each track as showCheckboxes-->
<!--control whether audible and drawn-->
<div class="row" id="visToggles">
  <label style="flex-direction:row;align-items:center;gap:8px;font-size:14px;">
    <input type="checkbox" id="showA" checked> Show A
  </label>
  <label style="flex-direction:row;align-items:center;gap:8px;font-size:14px;">
    <input type="checkbox" id="showB" checked> Show B
  </label>
  <label style="flex-direction:row;align-items:center;gap:8px;font-size:14px;">
    <input type="checkbox" id="showC" checked> Show C
  </label>
  <label style="flex-direction:row;align-items:center;gap:8px;font-size:14px;">
    <input type="checkbox" id="showD" checked> Show D
  </label>
  <label style="flex-direction:row;align-items:center;gap:8px;font-size:14px;">
    <input type="checkbox" id="showE" checked> Show E
  </label>
  <label style="flex-direction:row;align-items:center;gap:8px;font-size:14px;">
    <input type="checkbox" id="showF" checked> Show F
  </label>
</div>

<!-- tracks Aâ€“F  -->
<div class="row" id="extraTracks">
<div class="col">
      <label>Engine A:
      <select id="engineA">
        <option value="sinOsc">Sine oscillator</option>
        <option value="triangleOsc">Triangle oscillator</option>
        <option value="squareOsc">Square oscillator</option>
        <option value="add">String (additive)</option>
        <option value="file">Audio file</option>
      </select>
    </label>

    <label>Freq A:
      <input id="freqSliderA" type="range" min="50" max="2000" step="1">
      <input id="freqInputA" type="number" min="50" max="2000" step="1" style="width:70px">
      <span id="freqValA"></span>
    </label>

    <label>Load file:
  <input type="file" id="fileInputA" accept="audio/*">
</label>

</div>

  <div class="col">
    <label>Engine B:
      <select id="engineB">
        <option value="sinOsc">Sine oscillator</option>
        <option value="triangleOsc">Triangle oscillator</option>
        <option value="squareOsc">Square oscillator</option>
        <option value="add">String (additive)</option>
        <option value="file">Audio file</option>
      </select>
    </label>

    <label>Freq B:
      <input id="freqSliderB" type="range" min="50" max="2000" step="1">
      <input id="freqInputB" type="number" min="50" max="2000" step="1" style="width:70px">
      <span id="freqValB"></span>
    </label>

    <label>Load file:
  <input type="file" id="fileInputB" accept="audio/*">
</label>

  </div>
  
  <div class="col">
    <label>Engine C:
      <select id="engineC">
        <option value="sinOsc">Sine oscillator</option>
        <option value="triangleOsc">Triangle oscillator</option>
        <option value="squareOsc">Square oscillator</option>
        <option value="add">String (additive)</option>
        <option value="file">Audio file</option>

      </select>
    </label>

    <label>Freq C:
      <input id="freqSliderC" type="range" min="50" max="2000" step="1">
      <input id="freqInputC" type="number" min="50" max="2000" step="1" style="width:70px">
      <span id="freqValC"></span>
    </label>

    <label>Load file:
  <input type="file" id="fileInputC" accept="audio/*">
</label>
  </div>

  <div class="col">
    <label>Engine D:
      <select id="engineD">
        <option value="sinOsc">Sine oscillator</option>
        <option value="triangleOsc">Triangle oscillator</option>
        <option value="squareOsc">Square oscillator</option>
        <option value="add">String (additive)</option>
        <option value="file">Audio file</option>

      </select>
    </label>

    <label>Freq D:
      <input id="freqSliderD" type="range" min="50" max="2000" step="1">
      <input id="freqInputD" type="number" min="50" max="2000" step="1" style="width:70px">
      <span id="freqValD"></span>
    </label>

    <label>Load file:
  <input type="file" id="fileInputD" accept="audio/*">
</label>

  </div>

  <div class="col">
    <label>Engine E:
      <select id="engineE">
        <option value="sinOsc">Sine oscillator</option>
        <option value="triangleOsc">Triangle oscillator</option>
        <option value="squareOsc">Square oscillator</option>
        <option value="add">String (additive)</option>
        <option value="file">Audio file</option>
      </select>
    </label>

    <label>Freq E:
      <input id="freqSliderE" type="range" min="50" max="2000" step="1">
      <input id="freqInputE" type="number" min="50" max="2000" step="1" style="width:70px">
      <span id="freqValE"></span>
    </label>

    <label>Load file:
  <input type="file" id="fileInputE" accept="audio/*">
</label>

  </div>

  <div class="col">
    <label>Engine F:
      <select id="engineF">
        <option value="sinOsc">Sine oscillator</option>
        <option value="triangleOsc">Triangle oscillator</option>
        <option value="squareOsc">Square oscillator</option>
        <option value="add">String (additive)</option>
        <option value="file">Audio file</option>
      </select>
    </label>

    <label>Freq F:
      <input id="freqSliderF" type="range" min="50" max="2000" step="1">
      <input id="freqInputF" type="number" min="50" max="2000" step="1" style="width:70px">
      <span id="freqValF"></span>
    </label>

    <label>Load file:
  <input type="file" id="fileInputF" accept="audio/*">
</label>

  </div>
</div>
<label>
  X-Zoom:
  <input type="range" id="xZoom" min="1" max="20" value="1" step="0.1">
</label>
<button id="pauseViz">Pause/Unpause Viz</button>


<!-- Canvas 1: frequency-domain spectra (overlaid) -->
<canvas id="viz"></canvas>

<script src="audio-engines.js"></script>
<script src="tracks.js"></script>
<script src="viz.js"></script>
<script src="main.js"></script>

</body>
</html>
